#@TYPE: Machine
#@NAME: NXP i.MX 8M Plus RSB3720 with LPDDR4
#@SOC: i.MX8MP

require conf/machine/include/adv-imx8mp-evk.inc
# The device tree name is implicit for LPDDR4, so can't use MACHINE here
KERNEL_DEVICETREE_BASENAME = "imx8mp-rom5722-a1"

# Mainline kernel contains only one DTB file for
# Advantech imx8mp machine
KERNEL_DEVICETREE = " \
    freescale/imx8mp-rom5722-a1.dtb \
    freescale/imx8mp-rom5722-a1-lvds0-auo.dtb \
    freescale/imx8mp-rom5722-a1-lvds1-auo.dtb \
    freescale/imx8mp-rom5722-a1-lvds-dual.dtb \
    freescale/imx8mp-rom5722-a1-adv7535.dtb \
    freescale/imx8mp-rom5722-a1-basler.dtb \
    freescale/imx8mp-rom5722-a1-auog101uan02.dtb \
    freescale/imx8mp-rom5722-a1-m2-sdio.dtb \

UBOOT_CONFIG_BASENAME = "imx8mp_rom5722a1"


UBOOT_CONFIG ??= "6G"
UBOOT_CONFIG[6G] = "imx8mp_rom5722a1_6G_defconfig,sdcard"
UBOOT_CONFIG[FSPI_6G] = "imx8mp_rom5722a1_6G_defconfig"
UBOOT_CONFIG[mfgtool] = "imx8mp_rom5722a1_6G_defconfig"

# Set DDR FIRMWARE
DDR_FIRMWARE_VERSION = "202006"
DDR_FIRMWARE_NAME = " \
	lpddr4_pmu_train_1d_dmem_${DDR_FIRMWARE_VERSION}.bin \
	lpddr4_pmu_train_1d_imem_${DDR_FIRMWARE_VERSION}.bin \
	lpddr4_pmu_train_2d_dmem_${DDR_FIRMWARE_VERSION}.bin \
	lpddr4_pmu_train_2d_imem_${DDR_FIRMWARE_VERSION}.bin \
"

IMXBOOT_TARGETS_BASENAME = "flash_evk"

# Set Serial console
SERIAL_CONSOLES = ";"
